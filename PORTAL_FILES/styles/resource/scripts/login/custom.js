function updateRealmStatus(t){var e=$("#realm-status-"+t),n=t;$.get($BaseURL+"/ajax.php?phase=19",{id:n},function(t){"1"==t?e.addClass("online"):e.addClass("offline"),WarcryQueue("onload").goNext()})}function updateLogonStatus(){var t=$("#logon-status2");$.get($BaseURL+"/ajax.php?phase=20",function(e){"1"==e?(t.addClass("online"),t.html("Online")):(t.addClass("offline"),t.html("Offline")),WarcryQueue("onload").goNext()})}function css_browser_selector(t){var e=t.toLowerCase(),n=function(t){return e.indexOf(t)>-1},i="gecko",o="webkit",s="safari",r="opera",a="mobile",l=document.documentElement,d=[!/opera|webtv/i.test(e)&&/msie\s(\d)/.test(e)?"ie ie"+RegExp.$1:n("firefox/2")?i+" ff2":n("firefox/3.5")?i+" ff3 ff3_5":n("firefox/3.6")?i+" ff3 ff3_6":n("firefox/3")?i+" ff3":n("gecko/")?i:n("opera")?r+(/version\/(\d+)/.test(e)?" "+r+RegExp.$1:/opera(\s|\/)(\d+)/.test(e)?" "+r+RegExp.$2:""):n("konqueror")?"konqueror":n("blackberry")?a+" blackberry":n("android")?a+" android":n("chrome")?o+" chrome":n("iron")?o+" iron":n("applewebkit/")?o+" "+s+(/version\/(\d+)/.test(e)?" "+s+RegExp.$1:""):n("mozilla/")?i:"",n("j2me")?a+" j2me":n("iphone")?a+" iphone":n("ipod")?a+" ipod":n("ipad")?a+" ipad":n("mac")?"mac":n("darwin")?"mac":n("webtv")?"webtv":n("win")?"win"+(n("windows nt 6.0")?" vista":""):n("freebsd")?"freebsd":n("x11")||n("linux")?"linux":"","js"];return c=d.join(" "),l.className+=" "+c,c}function convertDateToUTC(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}function calcTime(t,e){var n=new Date,i=n.getTime()+6e4*n.getTimezoneOffset();return new Date(i+36e5*parseInt(e)).toString()}function ServerTimeCloack(){var t=new Date(calcTime($TIMEZONE,$TIMEZONEOFFSET)),e=t.getHours(),n=t.getMinutes(),i=t.getSeconds();setTimeout(function(){ServerTimeCloack()},1e3),e<10&&(e="0"+e),n<10&&(n="0"+n),i<10&&(i="0"+i);var o=document.getElementById("server-time-cloack");o&&(o.textContent=e+":"+n+":"+i,o.innerText=e+":"+n+":"+i)}$(document).ready(function(){var t=5e3;$(".fading-notification").each(function(){$(this).delay(t).fadeOut(500),t+=500})});var warcryQueues=[];warcryQueues.internal=[];var WarcryQueue=function(t){return{add:function(e){void 0!==t?(void 0===warcryQueues[t]&&(warcryQueues[t]=[]),warcryQueues[t].push(e)):warcryQueues.internal.push(e)},goNext:function(){if(void 0!==t){if($(warcryQueues[t]).size()<1)return!1;"function"==typeof(e=warcryQueues[t].shift())?e():console.log('WarcryQueue: There are no other functions in the queue "'+t+'".')}else{if($(warcryQueues.internal).size()<1)return!1;var e=warcryQueues.internal.shift();"function"==typeof e?e():console.log("WarcryQueue: There are no other functions in the queue.")}},clear:function(){void 0!==t?warcryQueues[t]=[]:warcryQueue.internal=[]},size:function(){return void 0!==t?$(warcryQueues[t]).size():$(warcryQueues.internal).size()}}};$(function(){css_browser_selector(navigator.userAgent)}),function(t){var e=!1,n=null,i=null,o={listState:"closed",defaults:{container:null,list:null,selected:null,arrow:null,scrollConfig:{scrollBy:5},searchQueue:null,isScrollable:!1},init:function(e){if(!(t(this).length<1)){void 0===t(this).data("SelectTransform")?(t(this).data("SelectTransform",{config:null}),t(this).data("SelectTransform").config=t.extend({},o.defaults,e)):t(this).data("SelectTransform").config=t.extend({},t(this).data("SelectTransform").config,e);var e=t(this).data("SelectTransform").config,n=t(this);n.css({display:"none"});var i=document.createElement("div");void 0!==n.attr("id")&&t(i).attr("id",n.attr("id")),t(i).attr("class","js-select"),n.after(i),t(i).bind("click",function(t){t.stopPropagation(),n.SelectTransform("clickEvent")}),e.container=t(i);var s=document.createElement("div");t(s).attr("class","js-select-selected"),t(i).append(s),e.selected=t(s);var r=document.createElement("div");t(r).attr("class","js-select-arrow"),t(s).after(r),e.arrow=t(r);var a=document.createElement("div");if(t(a).attr("class","js-select-list-container"),t(a).attr("id","js-list-container"),t(a).css({display:"none",zIndex:101}),t(e.container).append(a),e.listContainer=t(a),n.find("option").length>e.scrollConfig.scrollBy){e.isScrollable=!0;var l=document.createElement("div");t(l).attr("class","js-select-list-top-controller"),t(l).attr("id","js-list-top-controller"),t(l).attr("align","center"),t(e.listContainer).append(l),t(l).append("<p></p>"),t(l).bind("click",function(t){t.stopPropagation(),n.SelectTransform("ScrollUp")}),e.topController=t(l);var c=document.createElement("div");t(c).attr("class","js-select-list-scroller"),t(c).attr("id","js-list-scroller"),t(e.listContainer).append(c),e.listScroller=t(c);f=document.createElement("div");t(f).attr("class","js-select-list-scrollable"),t(f).attr("id","js-list"),t(e.listScroller).append(f),e.list=t(f);var d=document.createElement("div");t(d).attr("class","js-select-list-bottom-controller"),t(d).attr("id","js-list-bottom-controller"),t(d).attr("align","center"),t(e.listContainer).append(d),t(d).append("<p></p>"),t(d).bind("click",function(t){t.stopPropagation(),n.SelectTransform("ScrollDown")}),e.bottomController=t(d)}else{var f=document.createElement("div");t(f).attr("class","js-select-list"),t(f).attr("id","js-list"),t(e.listContainer).append(f),e.list=t(f)}n.find("option").each(function(i,o){var s=document.createElement("ul");if(t(s).attr("id",i),t(s).attr("class","js-select-list-option"),t(s).html(t(o).html()),void 0!==t(o).attr("getHtmlFrom")){r=t(o).attr("getHtmlFrom");t(r).length>0&&t(s).html(t(r).html())}if(void 0!==t(o).attr("style")&&t(s).attr("style",t(o).attr("style")),void 0!==t(o).attr("class")&&t(s).addClass(t(o).attr("class")),void 0!==t(o).attr("selected")){if(void 0!==t(o).attr("getHtmlFrom")){var r=t(o).attr("getHtmlFrom");t(r).length>0&&t(e.selected).html(t(r).html())}else t(e.selected).html(t(o).html());t(s).addClass("js-select-list-option-selected"),void 0!==t(o).attr("disabled")?(t(s).addClass("js-select-list-option-disabled"),t(s).unbind("click"),t(s).bind("click",function(t){t.stopPropagation()})):t(s).bind("click",function(t){t.stopPropagation(),n.SelectTransform("selectEvent",{option:o,index:i})})}else void 0!==t(o).attr("disabled")?(t(s).addClass("js-select-list-option-disabled"),t(s).bind("click",function(t){t.stopPropagation()})):t(s).bind("click",function(t){t.stopPropagation(),n.SelectTransform("selectEvent",{option:o,index:i})});t(e.list).append(s)})}},clickEvent:function(){var i=t(this).data("SelectTransform").config;$element=t(this),e?(n.data("SelectTransform").config.arrow.removeClass("js-select-arrow-active"),n.SelectTransform("closeList"),t("html").unbind("click")):(t(i.arrow).addClass("js-select-arrow-active"),t(this).SelectTransform("openList"),t("html").bind("click",function(t){t.stopPropagation(),$element.SelectTransform("clickEvent")}))},openList:function(){var o=t(this),s=t(this).data("SelectTransform").config;if(t(s.listContainer).slideDown("fast"),e=!0,n=t(this),s.isScrollable){t(s.listContainer).hasClass("js-select-list-container-scrollable")||t(s.listContainer).addClass("js-select-list-container-scrollable");var r=document.createElement("input");t(r).css({opacity:0,position:"fixed",top:"0px",left:"0px"}),t(r).attr("type","text"),t(r).attr("id","js-select-searchbox"),t("body").append(r),t(r).focus(),s.searchBox=t(r),t(r).on("keyup",function(e){if("13"==e.keyCode)return e.preventDefault(),!1;var n=t(r).val();t(s.list).children("ul").each(function(e,i){var r=t(this).html();n=n.toLowerCase(),r=r.toLowerCase(),""==n||null==n?(clearTimeout(s.searchQueue),s.searchQueue=setTimeout(function(){o.SelectTransform("ScrollTo",0)},300)):r.indexOf(n)>=0&&(clearTimeout(s.searchQueue),s.searchQueue=setTimeout(function(){o.SelectTransform("ScrollTo",e)},300))})}),s.list.on("mousewheel",function(t,e){return t.preventDefault(),!(null!=i&&parseInt(i)+200>=parseInt(t.timeStamp))&&(i=t.timeStamp,"Up"==(e>0?"Up":"Down")?o.SelectTransform("ScrollUp"):o.SelectTransform("ScrollDown"),!1)})}},closeList:function(){var i=t(this).data("SelectTransform").config;e=!1,n=null,t(i.listContainer).slideUp("fast"),i.isScrollable&&t(i.searchBox).detach(),i.list.off("mousewheel")},unselectOption:function(){var e=t(this).data("SelectTransform").config;$element=t(this),$option=t(this).find(":selected"),$option.removeAttr("selected"),$selectedInList=t(e.list).find(".js-select-list-option-selected"),$selectedInList.removeClass("js-select-list-option-selected")},selectOption:function(e){var n=t(this).data("SelectTransform").config;$element=t(this),t(e.option).attr("selected","selected"),$selectedInList=t(n.list).find("#"+e.index),$selectedInList.addClass("js-select-list-option-selected")},selectEvent:function(e){var n=t(this).data("SelectTransform").config;$element=t(this);var i=t(e.option).html();if(t(this).SelectTransform("unselectOption"),void 0!==t(e.option).attr("getHtmlFrom")){var o=t(e.option).attr("getHtmlFrom");t(o).length>0&&t(n.selected).html(t(o).html())}else t(n.selected).html(i);t(this).SelectTransform("selectOption",{option:e.option,index:e.index}),$element.SelectTransform("clickEvent"),$element.trigger("change")},quickSelect:function(e){var n=t(this).data("SelectTransform").config;$element=t(this);var i=t(e.option).html();if(t(this).SelectTransform("unselectOption"),void 0!==t(e.option).attr("getHtmlFrom")){var o=t(e.option).attr("getHtmlFrom");t(o).length>0&&t(n.selected).html(t(o).html())}else t(n.selected).html(i);t(this).SelectTransform("selectOption",{option:e.option,index:e.index})},ScrollUp:function(){var e=t(this).data("SelectTransform").config;$element=t(this);var n=t(e.list).attr("isSetupDone");void 0!==n&&"1"==n||$element.SelectTransform("ScrollSetup");var i=parseInt(t(e.list).attr("currentOffset")),o=(parseInt(t(e.list).attr("totalOptions")),i-e.scrollConfig.scrollBy);o<0&&(o=0);var s=e.list.children("#"+o);t(e.list).stop(!0,!0).animate({marginTop:"-"+s.position().top+"px"},400),t(e.list).attr("currentOffset",o),void 0!==e.searchBox&&(e.searchBox.attr("value",""),e.searchBox.focus())},ScrollDown:function(){var e=t(this).data("SelectTransform").config;$element=t(this);var n=t(e.list).attr("isSetupDone");void 0!==n&&"1"==n||$element.SelectTransform("ScrollSetup");var i=parseInt(t(e.list).attr("currentOffset")),o=parseInt(t(e.list).attr("totalOptions")),s=i+e.scrollConfig.scrollBy;s>o-e.scrollConfig.scrollBy&&(s=o-e.scrollConfig.scrollBy);var r=e.list.children("#"+s);t(e.list).stop(!0,!0).animate({marginTop:"-"+r.position().top+"px"},400),t(e.list).attr("currentOffset",s),void 0!==e.searchBox&&(e.searchBox.attr("value",""),e.searchBox.focus())},ScrollTo:function(e){var n=t(this).data("SelectTransform").config,i=t(this),o=t(n.list).attr("isSetupDone");void 0!==o&&"1"==o||i.SelectTransform("ScrollSetup");parseInt(t(n.list).attr("currentOffset"));var s=parseInt(t(n.list).attr("totalOptions"));e>s-n.scrollConfig.scrollBy&&(e=s-n.scrollConfig.scrollBy);var r=n.list.children("#"+e);t(n.list).stop(!0,!0).animate({marginTop:"-"+r.position().top+"px"},400),t(n.list).attr("currentOffset",e)},ScrollSetup:function(){var e=t(this).data("SelectTransform").config;$element=t(this),t(e.list).attr("totalOptions",e.list.children("ul").length),t(e.list).attr("currentOffset","0"),t(e.list).attr("isSetupDone","1")}};t.fn.SelectTransform=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.SelectTransform"):o.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(){if(!(t(this).length<1)){var e=t(this);e.append('<div class="loading-bar" align="left"><span id="bar"></span></div>'),e.LoadingBar("state1")}},state1:function(e){t(this).find("#bar").stop(!0,!0).animate({width:"100px"},1e3,function(){t(this).css("width","100px"),"function"==typeof e&&e()})},state2:function(e){t(this).find("#bar").stop(!0,!0).animate({width:"200px"},500,function(){t(this).css("width","200px"),"function"==typeof e&&e()})},state3:function(e){t(this).find("#bar").stop(!0,!0).animate({width:"300px"},500,function(){t(this).css("width","300px"),"function"==typeof e&&e()})},state4:function(e){t(this).find("#bar").stop(!0,!0).animate({width:"400px"},500,function(){t(this).css("width","400px"),"function"==typeof e&&e()})},restart:function(){t(this).find("#bar").css("width","0px")}};t.fn.LoadingBar=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.LoadingBar"):e.init.apply(this,arguments)}}(jQuery);