function ReplaceFacebook(){$(".facebook").find(".button-container").find(".fb-like").detach(),$(".facebook").find(".button-container").append('<a href="'+$SocialButtons.facebook.pageURL+'" class="fb-like fb-active-hotfix" target="_blank" title="'+$SocialButtons.facebook.text+'">Liked</a>')}function ReplaceTwitter(){$(".twitter").find(".button-container").find(".twitter-follow-button").detach(),$(".twitter").find(".button-container").append('<a href="https://twitter.com/'+$SocialButtons.twitter.page+'" class="twitter-follow-button twitter-active-hotfix" target="_blank" title="'+$SocialButtons.twitter.text+'">Follow</a>')}function UpdateFacebookCounter(){WarcryQueue("onload").add(function(){$("#facebook-likes-counter").hasClass("do-not-load")?WarcryQueue("onload").goNext():$.ajax({url:$BaseURL+"/ajax.php?phase=22&sid=1",cache:!1,dataType:"json",success:function(t){$("#facebook-likes-counter").html(t.likes),WarcryQueue("onload").goNext()}})})}function UpdateTwitterCounter(){WarcryQueue("onload").add(function(){$("#twitter-follows-counter").hasClass("do-not-load")?WarcryQueue("onload").goNext():$.ajax({url:$BaseURL+"/ajax.php?phase=22&sid=2",cache:!1,dataType:"json",success:function(t){$("#twitter-follows-counter").html(t.followers_count),WarcryQueue("onload").goNext()}})})}function UpdateSocial(t,e){var o=t,a=e;$.ajax({url:$BaseURL+"/ajax.php?phase=9",data:{app:o,status:a},type:"post",error:function(t,e,n){408==t.status&&UpdateSocial(o,a)}})}var APP_FACEBOOK=1,APP_TWITTER=2,STATUS_POSITIVE=1,STATUS_NEGATIVE=0;$(document).ready(function(){$SocialButtons.facebook.status==STATUS_NEGATIVE&&(!function(t,e){var o,a="facebook-jssdk",n=t.getElementsByTagName("script")[0];t.getElementById(a)||((o=t.createElement("script")).id=a,o.async=!0,o.src="//connect.facebook.net/en_US/all.js",n.parentNode.insertBefore(o,n))}(document),window.fbAsyncInit=function(){FB.init({appId:$SocialButtons.facebook.appId,xfbml:!0}),FB.Event.subscribe("edge.create",function(t,e){var o=parseInt($("#facebook-likes-counter").html());$("#facebook-likes-counter").html(parseInt(o+1)),$("#facebook-icon").addClass("active"),ReplaceFacebook(),$CURUSER.isOnline&&UpdateSocial(APP_FACEBOOK,STATUS_POSITIVE)})}),UpdateFacebookCounter()});